"use strict";(self.webpackChunkminder_docs=self.webpackChunkminder_docs||[]).push([[486],{28561:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"understand/profiles","title":"Profiles and rules","description":"A profile defines your security policies that you want to apply to your","source":"@site/docs/understand/profiles.md","sourceDirName":"understand","slug":"/understand/profiles","permalink":"/understand/profiles","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"title":"Profiles and rules","sidebar_position":10},"sidebar":"minder","previous":{"title":"Key Concepts","permalink":"/understand/key_concepts"},"next":{"title":"Projects","permalink":"/understand/projects"}}');var i=r(74848),s=r(28453);const a={title:"Profiles and rules",sidebar_position:10},o=void 0,l={},d=[{value:"Rules",id:"rules",level:2},{value:"Actions",id:"actions",level:2},{value:"Example profile",id:"example-profile",level:2}];function c(e){const n={a:"a",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.em,{children:"profile"})," defines your security policies that you want to apply to your\nsoftware supply chain. Profiles contain rules that query data in a\n",(0,i.jsx)(n.a,{href:"/understand/providers",children:"provider"}),", and specifies whether Minder will issue\n",(0,i.jsx)(n.a,{href:"/understand/alerts",children:"alerts"})," or perform automatic ",(0,i.jsx)(n.a,{href:"/understand/remediations",children:"remediations"})," when an\nentity is not in compliance with the policy."]}),"\n",(0,i.jsx)(n.p,{children:"Profiles in Minder allow you to group and manage rules for various entity types,\nsuch as repositories, pull requests, and artifacts, across your registered\nGitHub repositories."}),"\n",(0,i.jsx)(n.p,{children:"The anatomy of a profile is the profile itself, which outlines the rules to be\nchecked, the rule types, and the evaluation engine. Profiles are defined in a\nYAML file and can be configured to meet your compliance requirements. As of time\nof writing, Minder supports the following evaluation engines:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"https://www.openpolicyagent.org/docs/latest/policy-language/",children:"Rego"})})," Open\nPolicy Agents's native query language, Rego."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"https://jqlang.github.io/jq/",children:"JQ"})})," - a lightweight and flexible\ncommand-line JSON processor."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Each engine is designed to be extensible, allowing you to integrate your own\nlogic and processes."}),"\n",(0,i.jsxs)(n.p,{children:["Stacklok has published\n",(0,i.jsx)(n.a,{href:"https://github.com/mindersec/minder-rules-and-profiles/tree/main/profiles",children:"a set of example profiles on GitHub"}),";\nsee ",(0,i.jsx)(n.a,{href:"/how-to/manage_profiles",children:"Managing profiles"})," for more details on how to\nset up profiles and rule types."]}),"\n",(0,i.jsx)(n.h2,{id:"rules",children:"Rules"}),"\n",(0,i.jsx)(n.p,{children:"Each rule type within a profile is evaluated against your repositories that are\nregistered with Minder."}),"\n",(0,i.jsxs)(n.p,{children:["The available entity rule type groups are ",(0,i.jsx)(n.code,{children:"repository"}),", ",(0,i.jsx)(n.code,{children:"pull_request"}),", and\n",(0,i.jsx)(n.code,{children:"artifact"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Each rule type group has a set of rules that can be configured individually."}),"\n",(0,i.jsxs)(n.p,{children:["The available properties for each rule type can be found in their YAML file\nunder the ",(0,i.jsx)(n.code,{children:"def.rule_schema.properties"})," section."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, the ",(0,i.jsx)(n.code,{children:"secret_scanning"})," rule type has the following ",(0,i.jsx)(n.code,{children:"enabled"}),"\nproperty:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"---\nversion: v1\ntype: rule-type\nname: secret_scanning\n---\ndef:\n  # Defines the schema for writing a rule with this rule being checked\n  rule_schema:\n    properties:\n      enabled:\n        type: boolean\n        default: true\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can find a list of available rules in the\n",(0,i.jsx)(n.a,{href:"https://github.com/mindersec/minder-rules-and-profiles/tree/main/rule-types",children:"https://github.com/mindersec/minder-rules-and-profiles"}),"\nrepository."]}),"\n",(0,i.jsx)(n.h2,{id:"actions",children:"Actions"}),"\n",(0,i.jsx)(n.p,{children:"Minder supports the ability to perform actions based on the evaluation of a rule\nsuch as creating alerts and automatically remediating non-compliant rules."}),"\n",(0,i.jsx)(n.p,{children:"When a rule fails, Minder can open an alert to bring your attention to the\nnon-compliance issue. Conversely, when the rule evaluation passes, Minder will\nautomatically close any previously opened alerts related to that rule."}),"\n",(0,i.jsx)(n.p,{children:"Minder also supports the ability to automatically remediate failed rules based\non their type, i.e., by processing a REST call to enable/disable a non-compliant\nrepository setting or creating a pull request with a proposed fix. Note that not\nall rule types support automatic remediation yet."}),"\n",(0,i.jsxs)(n.p,{children:["Both alerts and remediations are configured in the profile YAML file under\n",(0,i.jsx)(n.code,{children:"alerts"})," (Default: ",(0,i.jsx)(n.code,{children:"on"}),") and ",(0,i.jsx)(n.code,{children:"remediate"})," (Default: ",(0,i.jsx)(n.code,{children:"off"}),")."]}),"\n",(0,i.jsx)(n.h2,{id:"example-profile",children:"Example profile"}),"\n",(0,i.jsxs)(n.p,{children:["Here's a profile which has a single rule for each entity group and its ",(0,i.jsx)(n.code,{children:"alert"}),"\nand ",(0,i.jsx)(n.code,{children:"remediate"})," features are both turned ",(0,i.jsx)(n.code,{children:"on"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"---\nversion: v1\ntype: profile\nname: github-profile\ncontext:\n  provider: github\nalert: 'on'\nremediate: 'on'\nrepository:\n  - type: dependabot_configured\n    def:\n      package_ecosystem: gomod\n      schedule_interval: daily\n      apply_if_file: go.mod\nartifact:\n  - type: artifact_signature\n    params:\n      tags: [latest]\n      name: your-artifact-name\n    def:\n      is_signed: true\n      is_verified: true\npull_request:\n  - type: pr_vulnerability_check\n    def:\n      action: review\n      ecosystem_config:\n        - name: npm\n          vulnerability_database_type: osv\n          vulnerability_database_endpoint: https://api.osv.dev/v1/query\n          package_repository:\n            url: https://registry.npmjs.org\n        - name: go\n          vulnerability_database_type: osv\n          vulnerability_database_endpoint: https://api.osv.dev/v1/query\n          package_repository:\n            url: https://proxy.golang.org\n          sum_repository:\n            url: https://sum.golang.org\n        - name: pypi\n          vulnerability_database_type: osv\n          vulnerability_database_endpoint: https://api.osv.dev/v1/query\n          package_repository:\n            url: https://pypi.org/pypi\n"})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>o});var t=r(96540);const i={},s=t.createContext(i);function a(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);